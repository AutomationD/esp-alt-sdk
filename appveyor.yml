os: Windows Server 2012 R2
init: 
  - git config --global core.autocrlf false
environment:
  matrix:
    - build_platform: "x86"
      build_compiler: "mingw"
      build_bindings: 1

    - build_platform: "x64"
      build_compiler: "mingw"
      build_bindings: 1
cache:
  - src  # preserve "packages" directory in the root of build folder but will reset it if packages.config is modified
install:
  - dir C:\MinGW\msys\1.0\bin\
  - C:\MinGW\bin\mingw-get install mingw32-base mingw32-mgwport mingw32-pdcurses mingw32-make mingw-developer-toolkit mingw32-gdb gcc gcc-c++ libz bzip2
  - C:\MinGW\bin\mingw-get install coreutils msys-patch
  - C:\MinGW\bin\mingw-get remove autoconf
  - C:\MinGW\msys\1.0\bin\bash.exe -i -l -c 'cd %APPVEYOR_BUILD_FOLDER%/env/; make'

build_script:
  - C:\MinGW\msys\1.0\bin\bash.exe -i -l -c "make clean"
  - C:\MinGW\msys\1.0\bin\bash.exe -i -l -c "VENDOR_SDK_VERSION=$VERSION"